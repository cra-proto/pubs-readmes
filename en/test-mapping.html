<!DOCTYPE html>
<html lang="en" class="wet-boew">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Year with WET</title>

    <!-- WET-BOEW Core Styles and Scripts -->
    <link rel="stylesheet" href="https://cdn.canada.ca/wet-boew/5.x/css/theme.min.css">
    <script src="https://cdn.canada.ca/wet-boew/5.x/js/wet-boew.min.js"></script>
</head>
<body>

<!-- WET-BOEW Dynamic Content with Year -->
<section>
    <h1>Report for the Year - test 2: <span id="year-display">Loading...</span></h1>
    <p>This report summarizes the events of <span id="year-inline">Loading...</span>.</p>
</section>

<!-- Custom JavaScript -->
<script>
    // Function to get the 'year' parameter from the URL
    function getYearFromURL() {
        const urlParams = new URLSearchParams(window.location.search);
        const year = urlParams.get('year');
        console.log("Extracted year from URL:", year);  // Debugging log
        return year;
    }

    // Function to inject the year into WET-BOEW content
    function insertYearInHTML(year) {
        if (year) {
            // Inject the year into the HTML
            document.getElementById('year-display').textContent = year;
            document.getElementById('year-inline').textContent = year;
            console.log("Year injected into HTML:", year);  // Debugging log
        } else {
            console.log("Year parameter not found in URL.");  // Debugging log
        }
    }

    // Ensure WET-BOEW and jQuery are ready before running the script
    document.addEventListener("DOMContentLoaded", function() {
        if (typeof jQuery !== 'undefined') {
            // jQuery is available, wait for WET-BOEW to be ready
            document.addEventListener("wb-ready.wb", function() {
                console.log("WET-BOEW is ready.");  // Debugging log
                const year = getYearFromURL();
                insertYearInHTML(year
